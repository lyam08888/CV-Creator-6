<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CV CREATOR IA</title>
  <meta name="description" content="AI-powered CV Creator with drag & drop functionality. Create professional resumes with artificial intelligence assistance.">
  <meta name="keywords" content="CV, resume, AI, generator, PDF, drag-drop, professional">
  <meta name="author" content="T.LAMARA">
  
  <!-- PWA Configuration -->
  <link rel="manifest" href="./manifest.json">
  <meta name="theme-color" content="#0f172a">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="CV Creator IA">
  
  <!-- Icons -->
  <link rel="icon" href="./assets/favicon.svg">
  <link rel="apple-touch-icon" href="./assets/icon-192.png">
  
  <!-- Preload critical resources -->
  <link rel="preload" href="./css/app.css" as="style">
  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" as="style">
  
  <!-- Stylesheets -->
  <link rel="stylesheet" href="./css/app.css">
  
  <!-- DNS prefetch for external resources -->
  <link rel="dns-prefetch" href="//cdnjs.cloudflare.com">
  <link rel="dns-prefetch" href="//cdn.jsdelivr.net">
  <link rel="dns-prefetch" href="//fonts.googleapis.com">
  <!-- QRCode -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
  <!-- html2canvas & jsPDF -->
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
  <!-- Sortable.js for drag & drop -->
  <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js" 
          onerror="console.warn('CDN Sortable.js failed, loading fallback...'); loadSortableFallback();"></script>
  <script>
    function loadSortableFallback() {
      const script = document.createElement('script');
      script.src = './lib/sortable-fallback.js';
      script.onload = function() {
        console.log('‚úÖ Fallback Sortable.js charg√© avec succ√®s');
      };
      document.head.appendChild(script);
    }
    
    // V√©rifier si Sortable est charg√© apr√®s un d√©lai
    setTimeout(function() {
      if (typeof window.Sortable === 'undefined') {
        console.warn('‚ö†Ô∏è Sortable.js non d√©tect√©, chargement du fallback...');
        loadSortableFallback();
      }
    }, 2000);
  </script>
</head>
<body>
  <div class="app-container">
    <aside class="sidebar">
      <header class="app-header">
        <img src="./assets/favicon.svg" class="logo" alt="logo">
        <h1 class="title">CV CREATOR IA</h1>
      </header>
      <nav class="app-nav">
        <details class="nav-group" open>
          <summary>Profil</summary>
          <button class="nav-btn active" data-form="personal-info">Informations Personnelles</button>
          <button class="nav-btn" data-form="summary">R√©sum√©</button>
        </details>
        <details class="nav-group">
          <summary>Parcours</summary>
          <button class="nav-btn" data-form="experience">Exp√©rience</button>
          <button class="nav-btn" data-form="education">Formation</button>
          <button class="nav-btn" data-form="certifications">Certifications</button>
          <button class="nav-btn" data-form="projects">Projets</button>
        </details>
        <details class="nav-group">
          <summary>Comp√©tences</summary>
          <button class="nav-btn" data-form="skills">Comp√©tences</button>
          <button class="nav-btn" data-form="languages">Langues</button>
        </details>
        <details class="nav-group">
          <summary>Autres</summary>
          <button class="nav-btn" data-form="blocks">Organisation</button>
          <button class="nav-btn" data-form="recruitment">Recrutement</button>
          <button class="nav-btn" data-form="settings">Param√®tres</button>
          <button class="nav-btn" data-form="customization">Personnalisation</button>
          <button class="nav-btn" data-form="actions">Actions</button>
        </details>
      </nav>
    </aside>
    
    <main class="main-content">
      <form id="cv-form">
        <!-- INFORMATIONS PERSONNELLES -->
        <section id="personal-info" class="form-section active">
          <h2>Informations Personnelles</h2>
          <div class="form-group">
            <label for="rawInfoText">Collez ici toutes les informations brutes du candidat (CV, profil LinkedIn, etc.)</label>
            <textarea id="rawInfoText" class="textarea" rows="8" placeholder="Nom, Pr√©nom, Exp√©riences, Formations, Comp√©tences..."></textarea>
            <div style="display: flex; gap: 10px; margin-top: 10px;">
              <button type="button" id="btnAutoFillAI" class="btn">Remplir automatiquement le formulaire avec l'IA</button>
              <button type="button" id="btnLoadDemo" class="btn btn-secondary">üìã Charger donn√©es de d√©monstration</button>
            </div>
          </div>
          <div class="form-grid">
            <div class="form-group">
              <label for="fullName">Nom complet *</label>
              <input type="text" id="fullName" name="fullName" class="input" required>
            </div>
            <div class="form-group">
              <label for="jobTitle">Titre du poste *</label>
              <input type="text" id="jobTitle" name="jobTitle" class="input" required>
            </div>
            <div class="form-group">
              <label for="email">Email *</label>
              <input type="email" id="email" name="email" class="input" required>
            </div>
            <div class="form-group">
              <label for="phone">T√©l√©phone *</label>
              <input type="tel" id="phone" name="phone" class="input" required>
            </div>
            <div class="form-group">
              <label for="address">Adresse compl√®te</label>
              <input type="text" id="address" name="address" class="input" placeholder="123 Rue de la Paix, 75001 Paris">
            </div>
            <div class="form-group">
              <label for="linkedin">LinkedIn</label>
              <input type="url" id="linkedin" name="linkedin" class="input" placeholder="https://linkedin.com/in/votre-profil">
            </div>
            <div class="form-group">
              <label for="website">Site Web / Portfolio</label>
              <input type="url" id="website" name="website" class="input" placeholder="https://votre-site.com">
            </div>
            <div class="form-group">
              <label for="github">GitHub</label>
              <input type="url" id="github" name="github" class="input" placeholder="https://github.com/votre-username">
            </div>
          </div>
        </section>

        <!-- R√âSUM√â PROFESSIONNEL -->
        <section id="summary" class="form-section">
          <h2>R√©sum√© Professionnel</h2>
          <div class="form-group">
            <label for="summary-text">Votre r√©sum√© professionnel (2-3 phrases percutantes)</label>
            <textarea id="summary-text" name="summary" class="textarea" rows="4" placeholder="D√©veloppeur Full Stack avec 5 ans d'exp√©rience..."></textarea>
            <button type="button" id="btnGenerateSummaryAI" class="btn">G√©n√©rer avec IA</button>
          </div>
        </section>

        <!-- EXP√âRIENCE PROFESSIONNELLE -->
        <section id="experience" class="form-section">
          <h2>Exp√©rience Professionnelle</h2>
          <div id="experience-list" class="form-list sortable">
            <!-- Les exp√©riences seront ajout√©es ici dynamiquement -->
          </div>
          <button type="button" id="btnAddExperience" class="btn btn-add">+ Ajouter une exp√©rience</button>
        </section>

        <!-- FORMATION -->
        <section id="education" class="form-section">
          <h2>Formation</h2>
          <div id="education-list" class="form-list sortable">
            <!-- Les formations seront ajout√©es ici dynamiquement -->
          </div>
          <button type="button" id="btnAddEducation" class="btn btn-add">+ Ajouter une formation</button>
        </section>

        <!-- COMP√âTENCES -->
        <section id="skills" class="form-section">
          <h2>Comp√©tences</h2>
          <div class="form-group">
            <label>Comp√©tences Techniques</label>
            <div id="technical-skills" class="skills-container">
              <!-- Comp√©tences techniques -->
            </div>
            <button type="button" id="btnAddTechnicalSkill" class="btn btn-small">+ Ajouter comp√©tence technique</button>
          </div>
          <div class="form-group">
            <label>Comp√©tences Transversales</label>
            <div id="soft-skills" class="skills-container">
              <!-- Comp√©tences transversales -->
            </div>
            <button type="button" id="btnAddSoftSkill" class="btn btn-small">+ Ajouter comp√©tence transversale</button>
          </div>
          <button type="button" id="btnSuggestSkillsAI" class="btn">Sugg√©rer des comp√©tences avec IA</button>
        </section>

        <!-- LANGUES -->
        <section id="languages" class="form-section">
          <h2>Langues</h2>
          <div id="languages-list" class="form-list">
            <!-- Les langues seront ajout√©es ici -->
          </div>
          <button type="button" id="btnAddLanguage" class="btn btn-add">+ Ajouter une langue</button>
        </section>

        <!-- CERTIFICATIONS -->
        <section id="certifications" class="form-section">
          <h2>Certifications</h2>
          <div id="certifications-list" class="form-list">
            <!-- Les certifications seront ajout√©es ici -->
          </div>
          <button type="button" id="btnAddCertification" class="btn btn-add">+ Ajouter une certification</button>
        </section>

        <!-- PROJETS -->
        <section id="projects" class="form-section">
          <h2>Projets</h2>
          <div id="projects-list" class="form-list sortable">
            <!-- Les projets seront ajout√©s ici -->
          </div>
          <button type="button" id="btnAddProject" class="btn btn-add">+ Ajouter un projet</button>
        </section>

        <!-- ORGANISATION DES BLOCS -->
        <section id="blocks" class="form-section">
          <h2>Organisation des blocs</h2>
          <p>Glissez pour r√©organiser les sections ou d√©cochez pour les masquer.</p>
          
          <!-- Contr√¥les d'espacement -->
          <div class="spacing-controls" style="margin-bottom: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px;">
            <h3 style="margin-bottom: 15px; font-size: 16px;">Contr√¥les d'espacement</h3>
            
            <div class="form-grid" style="grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
              <div class="form-group">
                <label for="sectionSpacing">Espacement entre sections (mm)</label>
                <input type="range" id="sectionSpacing" min="2" max="10" value="6" class="range-input">
                <span class="range-value">6mm</span>
              </div>
              
              <div class="form-group">
                <label for="itemSpacing">Espacement entre √©l√©ments (mm)</label>
                <input type="range" id="itemSpacing" min="1" max="8" value="4" class="range-input">
                <span class="range-value">4mm</span>
              </div>
              
              <div class="form-group">
                <label for="pageMargins">Marges de page (mm)</label>
                <input type="range" id="pageMargins" min="8" max="20" value="12" class="range-input">
                <span class="range-value">12mm</span>
              </div>
              
              <div class="form-group">
                <label for="lineHeight">Hauteur de ligne</label>
                <input type="range" id="lineHeight" min="1.1" max="1.8" step="0.1" value="1.3" class="range-input">
                <span class="range-value">1.3</span>
              </div>
            </div>
            
            <div style="margin-top: 15px;">
              <button type="button" id="btnApplySpacing" class="btn btn-primary">Appliquer l'espacement</button>
              <button type="button" id="btnResetSpacing" class="btn btn-secondary">R√©initialiser</button>
            </div>
          </div>
          
          <ul id="block-order-list" class="block-order-list"></ul>
        </section>

        <!-- INFORMATIONS RECRUTEMENT -->
        <section id="recruitment" class="form-section">
          <h2>Informations Recrutement</h2>
          
          <!-- Contr√¥le d'affichage de la banni√®re -->
          <div class="form-group">
            <label class="checkbox-label">
              <input type="checkbox" id="showRecruitmentBanner" name="showRecruitmentBanner">
              <span class="checkmark"></span>
              Afficher la banni√®re de recrutement dans le CV
            </label>
            <small class="form-help">La banni√®re appara√Ætra en haut du CV et pourra √™tre d√©plac√©e par drag & drop</small>
          </div>

          <div id="recruitmentBannerControls" class="recruitment-controls" style="display: none;">
            <h3>Configuration de la banni√®re</h3>
            
            <!-- Image de la banni√®re -->
            <div class="form-group">
              <label for="bannerImageUrl">Image de fond de la banni√®re (optionnel)</label>
              <input type="url" id="bannerImageUrl" name="bannerImageUrl" class="input" placeholder="https://exemple.com/image-banniere.jpg">
              <small class="form-help">Image qui s'affichera en arri√®re-plan de la banni√®re</small>
            </div>

            <!-- Informations recruteur -->
            <div class="form-grid">
              <div class="form-group">
                <label for="recruiterFirstName">Pr√©nom du Recruteur</label>
                <input type="text" id="recruiterFirstName" name="recruiterFirstName" class="input" placeholder="Marie">
              </div>
              <div class="form-group">
                <label for="recruiterLastName">Nom du Recruteur</label>
                <input type="text" id="recruiterLastName" name="recruiterLastName" class="input" placeholder="Dupont">
              </div>
              <div class="form-group">
                <label for="recruiterPosition">Poste du Recruteur</label>
                <input type="text" id="recruiterPosition" name="recruiterPosition" class="input" placeholder="Charg√©e de recrutement">
              </div>
              <div class="form-group">
                <label for="recruiterPhone">Num√©ro de t√©l√©phone</label>
                <input type="tel" id="recruiterPhone" name="recruiterPhone" class="input" placeholder="+33 1 23 45 67 89">
              </div>
              <div class="form-group">
                <label for="recruiterEmail">Adresse email</label>
                <input type="email" id="recruiterEmail" name="recruiterEmail" class="input" placeholder="marie.dupont@entreprise.com">
              </div>
              <div class="form-group">
                <label for="companyName">Nom de l'Entreprise</label>
                <input type="text" id="companyName" name="companyName" class="input" placeholder="TechCorp Solutions">
              </div>
              <div class="form-group">
                <label for="companyLogoUrl">URL du Logo de l'Entreprise</label>
                <input type="url" id="companyLogoUrl" name="companyLogoUrl" class="input" placeholder="https://exemple.com/logo.png">
              </div>
            </div>

            <!-- Message personnalis√© -->
            <div class="form-group">
              <label for="bannerMessage">Message personnalis√© (optionnel)</label>
              <textarea id="bannerMessage" name="bannerMessage" class="textarea" rows="3" placeholder="Candidature pour le poste de D√©veloppeur Full Stack..."></textarea>
              <small class="form-help">Message qui s'affichera dans la banni√®re</small>
            </div>

            <!-- Style de la banni√®re -->
            <div class="form-grid">
              <div class="form-group">
                <label for="bannerStyle">Style de la banni√®re</label>
                <select id="bannerStyle" name="bannerStyle" class="input">
                  <option value="modern">Moderne (d√©grad√©)</option>
                  <option value="classic">Classique (couleur unie)</option>
                  <option value="minimal">Minimal (bordure)</option>
                  <option value="corporate">Corporate (professionnel)</option>
                </select>
              </div>
              <div class="form-group">
                <label for="bannerColor">Couleur principale</label>
                <input type="color" id="bannerColor" name="bannerColor" class="input" value="#3B82F6">
              </div>
            </div>

            <!-- Position et taille -->
            <div class="form-group">
              <label for="bannerHeight">Hauteur de la banni√®re (mm)</label>
              <input type="range" id="bannerHeight" name="bannerHeight" class="range-input" min="0" max="80" step="0.1" value="50">
              <span class="range-value">50mm</span>
            </div>

            <!-- Fixer la banni√®re en haut -->
            <div class="form-group">
              <label class="checkbox-label">
                <input type="checkbox" id="fixRecruitmentBanner" name="fixRecruitmentBanner">
                <span class="checkmark"></span>
                Fixer la banni√®re en haut du document
              </label>
            </div>
          </div>
        </section>

        <!-- PARAM√àTRES -->
        <section id="settings" class="form-section">
          <h2>Param√®tres</h2>
          <div class="form-group">
            <label for="geminiApiKey">Cl√© API Gemini</label>
            <input type="password" id="geminiApiKey" class="input" placeholder="Saisir votre cl√© API Gemini">
            <button type="button" id="btnSaveApiKey" class="btn">Sauvegarder la cl√© API</button>
          </div>
          <div class="form-group">
            <label>Mod√®le de CV</label>
            <select id="cvTemplate" class="input">
              <option value="modern">Moderne</option>
              <option value="classic">Classique</option>
              <option value="creative">Cr√©atif</option>
            </select>
          </div>
          <div class="form-group">
            <label>Couleur principale</label>
            <input type="color" id="primaryColor" class="input" value="#2563eb">
          </div>
          <div class="form-group">
            <label>Gestion des pages</label>
            <div style="display: flex; gap: 10px; flex-wrap: wrap;">
              <button type="button" id="btnAddPage" class="btn btn-small">+ Ajouter une page</button>
              <button type="button" id="btnRemovePage" class="btn btn-small">- Supprimer la derni√®re page</button>
            </div>
          </div>
        </section>

        <!-- PERSONNALISATION AVANC√âE -->
        <section id="customization" class="form-section">
          <h2>Personnalisation Avanc√©e</h2>
          
          <!-- POLICE ET TYPOGRAPHIE -->
          <div class="customization-group">
            <h3>Police et Typographie</h3>
            <div class="form-row">
              <div class="form-group">
                <label for="fontFamily">Police principale</label>
                <select id="fontFamily" class="input">
                  <option value="Arial, sans-serif">Arial</option>
                  <option value="'Times New Roman', serif">Times New Roman</option>
                  <option value="'Helvetica Neue', sans-serif">Helvetica Neue</option>
                  <option value="Georgia, serif">Georgia</option>
                  <option value="'Trebuchet MS', sans-serif">Trebuchet MS</option>
                  <option value="Verdana, sans-serif">Verdana</option>
                  <option value="'Calibri', sans-serif">Calibri</option>
                  <option value="'Open Sans', sans-serif">Open Sans</option>
                </select>
              </div>
              <div class="form-group">
                <label for="baseFontSize">Taille de base (pt)</label>
                <input type="number" id="baseFontSize" class="input" value="11" min="8" max="16" step="0.1">
              </div>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label for="lineHeight">Hauteur de ligne</label>
                <input type="number" id="lineHeight" class="input" value="1.4" min="1.0" max="2.0" step="0.1">
              </div>
              <div class="form-group">
                <label for="letterSpacing">Espacement lettres (pt)</label>
                <input type="number" id="letterSpacing" class="input" value="0" min="-1" max="2" step="0.1">
              </div>
            </div>
          </div>

          <!-- MARGES ET ESPACEMENT -->
          <div class="customization-group">
            <h3>Marges et Espacement</h3>
            <div class="form-row">
              <div class="form-group">
                <label for="pageMarginTop">Marge haut (mm)</label>
                <input type="number" id="pageMarginTop" class="input" value="20" min="10" max="40" step="0.1">
              </div>
              <div class="form-group">
                <label for="pageMarginBottom">Marge bas (mm)</label>
                <input type="number" id="pageMarginBottom" class="input" value="20" min="10" max="40" step="0.1">
              </div>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label for="pageMarginLeft">Marge gauche (mm)</label>
                <input type="number" id="pageMarginLeft" class="input" value="20" min="10" max="40" step="0.1">
              </div>
              <div class="form-group">
                <label for="pageMarginRight">Marge droite (mm)</label>
                <input type="number" id="pageMarginRight" class="input" value="20" min="10" max="40" step="0.1">
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label for="sectionSpacing">Espacement sections (mm)</label>
                <input type="number" id="sectionSpacing" class="input" value="6" min="2" max="15" step="0.1">
              </div>
              <div class="form-group">
                <label for="paragraphSpacing">Espacement paragraphes (mm)</label>
                <input type="number" id="paragraphSpacing" class="input" value="3" min="1" max="10" step="0.1">
              </div>
            </div>
          </div>

          <!-- COLONNES ET MISE EN PAGE -->
          <div class="customization-group">
            <h3>Colonnes et Mise en Page</h3>
            <div class="form-row">
              <div class="form-group">
                <label for="layoutType">Type de mise en page</label>
                <select id="layoutType" class="input">
                  <option value="single">Une colonne</option>
                  <option value="two-column">Deux colonnes</option>
                  <option value="sidebar">Colonne lat√©rale</option>
                </select>
              </div>
              <div class="form-group" id="columnWidthGroup" style="display: none;">
                <label for="leftColumnWidth">Largeur colonne gauche (%)</label>
                <input type="number" id="leftColumnWidth" class="input" value="35" min="20" max="50" step="0.1">
              </div>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label for="columnGap">Espacement colonnes (mm)</label>
                <input type="number" id="columnGap" class="input" value="8" min="3" max="20" step="0.1">
              </div>
              <div class="form-group">
                <label for="maxPages">Pages maximum</label>
                <input type="number" id="maxPages" class="input" value="2" min="1" max="5" step="1">
              </div>
            </div>
          </div>

          <!-- TITRES ET EN-T√äTES -->
          <div class="customization-group">
            <h3>Titres et En-t√™tes</h3>
            <div class="form-row">
              <div class="form-group">
                <label for="h1Size">Taille nom (pt)</label>
                <input type="number" id="h1Size" class="input" value="18" min="14" max="24" step="0.1">
              </div>
              <div class="form-group">
                <label for="h2Size">Taille titre poste (pt)</label>
                <input type="number" id="h2Size" class="input" value="14" min="12" max="18" step="0.1">
              </div>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label for="h3Size">Taille sections (pt)</label>
                <input type="number" id="h3Size" class="input" value="13" min="11" max="16" step="0.1">
              </div>
              <div class="form-group">
                <label for="titleSpacing">Espacement apr√®s titres (mm)</label>
                <input type="number" id="titleSpacing" class="input" value="2" min="1" max="8" step="0.1">
              </div>
            </div>
          </div>

          <!-- LIGNES ET S√âPARATEURS -->
          <div class="customization-group">
            <h3>Lignes et S√©parateurs</h3>
            <div class="form-row">
              <div class="form-group">
                <label for="showSectionLines">Lignes sous sections</label>
                <input type="checkbox" id="showSectionLines" checked>
              </div>
              <div class="form-group">
                <label for="lineThickness">√âpaisseur lignes (pt)</label>
                <input type="number" id="lineThickness" class="input" value="1" min="0.1" max="3" step="0.1">
              </div>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label for="lineColor">Couleur lignes</label>
                <input type="color" id="lineColor" class="input" value="#cccccc">
              </div>
              <div class="form-group">
                <label for="lineMargin">Marge lignes (mm)</label>
                <input type="number" id="lineMargin" class="input" value="1" min="0" max="5" step="0.1">
              </div>
            </div>
          </div>

          <!-- BOUTONS D'ACTION -->
          <div class="customization-actions">
            <button type="button" id="btnApplyCustomization" class="btn btn-primary">‚úÖ Appliquer les modifications</button>
            <button type="button" id="btnOptimizeTwoColumns" class="btn btn-secondary" style="background: linear-gradient(135deg, #10b981, #059669);">‚ú® Optimiser pour 2 colonnes</button>
            <button type="button" id="btnResetCustomization" class="btn btn-secondary">üîÑ R√©initialiser</button>
            <button type="button" id="btnSavePreset" class="btn btn-secondary">üíæ Sauvegarder preset</button>
            <button type="button" id="btnLoadPreset" class="btn btn-secondary">üìÅ Charger preset</button>
          </div>
        </section>

        <!-- ACTIONS G√âN√âRALES -->
        <section id="actions" class="form-section">
          <h2>Actions</h2>
          <div class="form-group actions-group">
            <button id="btnGenerateIA" type="button" class="btn btn-primary">G√©n√©rer le CV par IA</button>
            <button id="btnExport" type="button" class="btn">Exporter PDF</button>
            <button id="btnAnalyzeCVAI" type="button" class="btn">Analyser le CV avec IA</button>
            <button id="btnToggleEdit" type="button" class="btn">Mode √âdition</button>
            <button id="btnOptimizeSpacing" type="button" class="btn btn-secondary">Optimiser Espaces</button>
            <button id="btnNewCV" type="button" class="btn btn-secondary">Nouveau CV</button>
            <button id="btnResetToDemo" type="button" class="btn btn-secondary">Charger D√©mo</button>
          </div>
        </section>
      </form>
    </main>
    
    <aside class="preview-panel">
      <div class="preview-header">
        <h3>Aper√ßu du CV</h3>

        <div class="preview-actions">
          <button id="btnPreviewAddPage" class="btn btn-small">+ Page</button>
          <button id="btnPreviewRemovePage" class="btn btn-small">- Page</button>
          <button id="btnToggleEdit" class="btn btn-small">Mode √âdition</button>
        </div>

      </div>
      <div id="cv-preview" class="cv-preview">
        <!-- L'aper√ßu du CV sera g√©n√©r√© ici avec des blocs drag & drop -->
      </div>
    </aside>
  </div>

  <!-- Barre d'outils d'√©dition -->
  <div class="edit-toolbar">
    <button onclick="document.execCommand('bold')">Gras</button>
    <button onclick="document.execCommand('italic')">Italique</button>
    <button onclick="document.execCommand('underline')">Soulign√©</button>
    <button onclick="addNewPage()">+ Page</button>
    <button onclick="toggleEditMode()">Quitter</button>
  </div>

  <script type="module" src="./js/error-handler.js?v=3"></script>
  <script type="module" src="./js/enhanced-ui.js?v=3"></script>
  <script type="module" src="./js/app.js?v=3"></script>
  <script type="module" src="./demo-data.js?v=3"></script>
  <script src="./verification-banniere.js?v=3"></script>
  <script src="./diagnostic.js?v=3"></script>
  <script>
    // Gestionnaire pour le bouton de d√©monstration
    document.addEventListener('DOMContentLoaded', function() {
      const btnLoadDemo = document.getElementById('btnLoadDemo');
      if (btnLoadDemo) {
        btnLoadDemo.addEventListener('click', function() {
          if (window.loadDemoData) {
            window.loadDemoData();
            alert('‚úÖ Donn√©es de d√©monstration charg√©es ! V√©rifiez l\'aper√ßu et testez les fonctionnalit√©s de personnalisation.');
          } else {
            console.error('Fonction loadDemoData non disponible');
          }
        });
      }
    });
  </script>
</body>
</html>